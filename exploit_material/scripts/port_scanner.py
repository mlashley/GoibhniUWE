import sys
import socket
import ipaddress

# Define the ports to scan
ports = [8080, 5984, 80, 443, 22, 25, 9200, 3306]

# Function to scan ports
def scan_ports(ip, ports):
    open_ports = []
    for port in ports:
        try:
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
                s.settimeout(1)  # Set timeout to 1 second
                s.connect((ip, port))
                open_ports.append(port)
        except:
            pass
    return open_ports

# Function to scan IP range
def scan_ip_range(ip_range, ports):
    ip_network = ipaddress.ip_network(ip_range)
    for ip in ip_network.hosts():
        ip = str(ip)
        for port in scan_ports(ip, ports):
            print("Port " + str(port) + "is open on " + str(ip))

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python port_scanner.py <ip_range>")
        sys.exit(1)
    
    ip_range = sys.argv[1]
    scan_ip_range(ip_range, ports)

